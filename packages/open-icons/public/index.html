<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
    <link rel="icon" href="data:,">
    <title>open-icons</title>
</head>

<body>
    <!--inject:start-->
    <script src="../dist/open-icons.js"></script>
    <!--inject:end-->

    <div class="loading">Loading ...</div>
    <script>
        const { packages, loadPackages } = window['open-icons'];

        console.log(packages);

        const $loading = document.querySelector('.loading');
        const ts = Date.now();

        loadPackages('../dist/', (item, info) => {
            console.log(item.name, info);
            //$loading.insertAdjacentHTML('beforeend', `<div>${item.name}: ${JSON.stringify(info)}</div>`);
        }).then((loadedPackages) => {
            console.log(loadedPackages);
            $loading.insertAdjacentHTML('beforeend', `<div>duration: ${Date.now() - ts}</div>`);
        });

        const svg = `
        <svg viewBox="0 0 512 512" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">
            <linearGradient id="open-icons-tiny-apple-music-a" x1=".5" y1=".99" x2=".5" y2=".02">
                <stop offset="0" stop-color="#FA233B"></stop>
                <stop offset="1" stop-color="#FB5C74"></stop>
            </linearGradient>
            <rect width="512" height="512" rx="15%" fill="url(#open-icons-tiny-apple-music-a)"></rect>
            <path fill="#fff" d="M199 359V199q0-9 10-11l138-28q11-2 12 10v122q0 15-45 20c-57 9-48 105 30 79 30-11 35-40 35-69V88s0-20-17-15l-170 35s-13 2-13 18v203q0 15-45 20c-57 9-48 105 30 79 30-11 35-40 35-69"></path>
        </svg>
        `;
        
        const addSvg = () => {
            const div = document.createElement('div');
            div.innerHTML = svg;
            div.style.width = '100px';
            div.style.height = '100px';
            document.body.appendChild(div);
            return div;
        };

        const div = addSvg();
        addSvg();
        setTimeout(() => {
            addSvg();
            addSvg();

            div.style.display = 'none';
        }, 1000);

    </script>

   
</body>

</html>